---
import { getCollection } from 'astro:content';
import { Image } from '@unpic/astro';
import homepage from '../../content/homepage.json';
import BlogHeader from '../../components/BlogHeader.astro';
import BaseHead from '../../components/BaseHead.astro';
// 1. Generate a new path for every collection entry
export async function getStaticPaths() {
    const works = await getCollection('portfolio');
    return works.map((painting) => ({
        params: { id: painting.id },
        props: { painting },
    }));
}
// 2. For your template, you can get the entry directly from the prop
const { painting } = Astro.props;
const title = `${homepage.title} | ${painting.data.title}`;
---

<head><BaseHead {title} description={homepage.intro} permalink={`/portfolio/${painting.id}`} /></head>
<body>
    <BlogHeader />
    <main>
        <h1>{painting.data.title}</h1>
        <Image src={painting.data.image} alt={painting.data.alt} layout="constrained" priority />
    </main>
</body>
